/* Path: web/assets/css/components/magic_nav/_drawer.css */
#magic-toc-drawer {
    /* [FIX] Buộc position fixed để không chiếm dòng content */
    position: fixed !important; 
    top: 60px; 
    left: 15px; 
    width: 300px; 
    max-height: 70vh;
    
    background-color: var(--bg-card);
    border-radius: 8px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    
    overflow-y: auto;
    z-index: 1101;
    
    /* Trạng thái đóng mặc định */
    opacity: 0;
    transform: translateY(-10px);
    pointer-events: none; /* Không chặn click khi ẩn */
    visibility: hidden; /* Đảm bảo ẩn hẳn */
    
    transition: opacity 0.2s ease, transform 0.2s ease;
    scrollbar-width: thin;
}

#magic-toc-drawer.open {
    opacity: 1; 
    transform: translateY(0); 
    pointer-events: auto;
    visibility: visible;
}

#magic-toc-content { padding: 10px 0; }

/* Styles cho Tree Node (Như yêu cầu) */
.toc-header {
    font-size: 0.75rem; font-weight: 700; color: var(--text-muted);
    text-transform: uppercase; letter-spacing: 0.5px;
    padding: 10px 15px 5px 15px; margin-top: 5px;
    border-bottom: 1px solid rgba(0,0,0,0.03);
    background-color: rgba(0,0,0,0.02);
}
.toc-header.clickable:hover { color: var(--primary-color); cursor: pointer; }

/* Leaf */
.toc-item.leaf {
    padding: 8px 15px; border-bottom: 1px solid rgba(0,0,0,0.02);
    cursor: pointer; transition: background 0.1s; line-height: 1.2;
}
.toc-item.leaf .toc-label { font-size: 0.9rem; color: var(--text-main); font-weight: 500; }
.toc-item.leaf .toc-sub { font-size: 0.8rem; color: var(--text-light); display: block; margin-top: 2px; }

/* Subleaf (Dật cấp) */
.toc-item.subleaf {
    padding: 4px 15px 4px 20px; /* Thụt vào */
    font-size: 0.85rem; color: var(--text-muted);
    border-bottom: none; cursor: pointer;
}

.toc-item:hover { background-color: rgba(0,0,0,0.03); }
.toc-item.active { background-color: var(--highlight-color-background); position: relative; }
.toc-item.active::before {
    content: ""; position: absolute; left: 0; top: 0; bottom: 0; width: 4px; background-color: var(--primary-color);
}